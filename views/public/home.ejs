<%- include('../partials/header') %>

<section class="hero-grid">
  <div class="hero-copy">
    <p class="eyebrow">Custom CMS</p>
    <h1 class="display">Stories that build trust.</h1>
    <p class="lead">Curated insights, practical notes, and experiments from the studio.</p>
    <div class="actions">
      <a class="btn btn-primary" href="/blog">Explore posts</a>
      <a class="btn btn-ghost" href="/admin">Admin panel</a>
    </div>
  </div>
  <div class="card hero-panel">
    <div class="card-head">
      <h2 class="section-title">Featured</h2>
      <span class="pill">Editor picks</span>
    </div>
    <div class="stack-list">
      <% featured.forEach(function(post) { %>
        <article class="card-min">
          <p class="meta"><%= post.category?.name || 'General' %></p>
          <h3 class="title-md"><a href="/blog/<%= post.slug %>"><%= post.title %></a></h3>
          <p class="muted"><%= post.excerpt %></p>
        </article>
      <% }) %>
      <% if (!featured.length) { %>
        <p class="muted">No featured posts yet.</p>
      <% } %>
    </div>
  </div>
</section>

<section class="section">
  <div class="section-head">
    <div>
      <p class="eyebrow">Fresh reads</p>
      <h2 class="section-title">Latest posts</h2>
    </div>
    <a class="text-link" href="/blog">View all</a>
  </div>
  <div class="post-grid">
    <% posts.forEach(function(post) { %>
      <article class="card post-card">
        <% if (post.coverImagePath) { %>
          <img class="post-cover" src="<%= post.coverImagePath %>" alt="<%= post.title %>" />
        <% } %>
        <p class="meta"><%= formatDate(post.publishedAt || post.createdAt) %> ÅE <%= estimateReadTime(post.content) %></p>
        <h3 class="title-md"><a href="/blog/<%= post.slug %>"><%= post.title %></a></h3>
        <p class="muted"><%= post.excerpt %></p>
      </article>
    <% }) %>
  </div>
  <% if (!posts.length) { %>
    <p class="muted">No posts yet.</p>
  <% } %>
  <div class="pager">
    <% if (page > 1) { %>
      <a class="btn btn-outline" href="/?page=<%= page - 1 %>">Previous</a>
    <% } else { %>
      <span></span>
    <% } %>
    <% if (page < totalPages) { %>
      <a class="btn btn-outline" href="/?page=<%= page + 1 %>">Next</a>
    <% } %>
  </div>
</section>

<%- include('../partials/footer') %>
